{"version":3,"sources":["api/index.js","actions/auth.js","pages/DataWarga/index.js"],"names":["API","axios","create","baseURL","fetchActivities","community_id","get","createActivity","newActivity","post","getComments","postId","updateActivity","id","updatedActivity","patch","deleteActivity","delete","likeActivity","accessToken","PostId","headers","signIn","formData","signUp","lengkapi_data_ketua","lengkapi_data_warga","getDataWarga","signin","history","dispatch","a","api","data","error","alert","type","AUTH","push","console","log","signup","localStorageData","JSON","parse","localStorage","getItem","result","setItem","stringify","LENGKAPI_DATA_KETUA","LENGKAPI_DATA_WARGA","get_data_warga","GET_DATA_WARGA","DataWarga","useDispatch","createData","name","calories","fat","carbs","protein","dataWarga","useSelector","state","dataWargaReducer","useState","user","useEffect","variant","style","color","marginBottom","length","component","Paper","sx","minWidth","aria-label","align","map","warga","border","scope","display","alignContent","alignItems","gap","width","height","namaDepan","charAt","namaBelakang","phone","alamat","jenisKelamin","moment","createdAt","format"],"mappings":"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","file":"static/js/17.d7ca5a2e.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({ baseURL: 'http://rukuntetangga-admin.my.id' });\n//const url = 'http://localhost:5000/activities';\n\nexport const fetchActivities = (community_id) =>\n  API.get(`/posts/${community_id}`);\nexport const createActivity = (newActivity) => API.post('/posts', newActivity);\nexport const getComments = (postId) => API.get(`/comments/${postId}`);\n\n// fungsi untuk mengupdate kegiatan, ngirim id sama update-an dari yang user masukin ke form\n// manggil api dari /activities/:id -> ada di routes folder server\nexport const updateActivity = (id, updatedActivity) =>\n  API.patch(`/activities/${id}`, updatedActivity);\n\n// fungsi untuk menghapus kegiatan, ngirim id kegiatan sebagai params\n// manggil api dari /activities/:id -> ada di routes folder server\nexport const deleteActivity = (id) => API.delete(`/posts/${id}`);\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\n// fungsi untuk like kegiatan, ngirim id kegiatan sebagai params\n// manggil api dari /activities/:id -> ada di routes folder server\nexport const likeActivity = (id, accessToken) =>\n  API.post(`/likes`, { PostId: id }, { headers: { accessToken: accessToken } });\nexport const signIn = (formData) => API.post(`/auth/login`, formData);\nexport const signUp = (formData) => API.post(`/auth`, formData);\nexport const lengkapi_data_ketua = (formData) =>\n  API.post(`/lengkapi-data`, formData);\nexport const lengkapi_data_warga = (formData) =>\n  API.post(`/lengkapi-data/warga`, formData);\n\nexport const getDataWarga = (community_id) =>\n  API.get(`/auth/data-warga/${community_id}`);\n\nexport const getCommunityDetails = (community_id) =>\n  API.get(`/community/${community_id}`);\n","/* eslint-disable no-unused-vars */\nimport * as api from '../api';\nimport {\n  AUTH,\n  GET_DATA_WARGA,\n  LENGKAPI_DATA_KETUA,\n  LENGKAPI_DATA_WARGA\n} from '../constants/actionTypes';\n\nexport const signin = (formData, history) => async (dispatch) => {\n  try {\n    // log in the user ...\n    const { data } = await api.signIn(formData);\n    if (data.error) {\n      alert(data.error);\n    } else {\n      dispatch({ type: AUTH, data });\n\n      history.push('/');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const signup = (formData, history) => async (dispatch) => {\n  try {\n    // sign up the user ...\n    const { data } = await api.signUp(formData);\n\n    dispatch({ type: AUTH, data });\n\n    history.push('/lengkapi-data');\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const lengkapi_data_ketua = (formData, history) => async (dispatch) => {\n  try {\n    console.log(formData);\n    console.log('action lengkapi data');\n    const { data } = await api.lengkapi_data_ketua(formData);\n    let localStorageData = JSON.parse(localStorage.getItem('profile'));\n    console.log(localStorageData.result);\n\n    console.log(localStorageData);\n    localStorageData.result = { ...localStorageData.result, ...formData };\n    console.log(localStorageData);\n    localStorage.setItem('profile', JSON.stringify(localStorageData));\n    dispatch({ type: LENGKAPI_DATA_KETUA, data });\n    history.push('/');\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const lengkapi_data_warga = (formData, history) => async (dispatch) => {\n  try {\n    console.log(formData);\n    console.log('action lengkapi data');\n    const { data } = await api.lengkapi_data_warga(formData);\n    let localStorageData = JSON.parse(localStorage.getItem('profile'));\n    console.log(localStorageData.result);\n\n    console.log(localStorageData);\n    localStorageData.result = { ...localStorageData.result, ...formData };\n    console.log(localStorageData);\n    localStorage.setItem('profile', JSON.stringify(localStorageData));\n    dispatch({ type: LENGKAPI_DATA_WARGA, data });\n    history.push('/');\n    console.log('action kelar');\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const get_data_warga = (community_id) => async (dispatch) => {\n  console.log(community_id);\n  try {\n    const { data } = await api.getDataWarga(community_id);\n    console.log('get_data_warga ', data);\n    dispatch({ type: GET_DATA_WARGA, data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n","/* eslint-disable no-unused-vars */\nimport {\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Avatar\n} from '@mui/material';\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { get_data_warga } from '../../actions/auth';\nimport moment from 'moment';\n\nconst DataWarga = () => {\n  const dispatch = useDispatch();\n  function createData(name, calories, fat, carbs, protein) {\n    return { name, calories, fat, carbs, protein };\n  }\n  const dataWarga = useSelector((state) => state.dataWargaReducer);\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n\n  if (!user) {\n    return <div>Login terlebih dahulu untuk mengakses halaman ini</div>;\n  }\n\n  console.log(user);\n  useEffect(() => {\n    // setUser(JSON.parse(localStorage.getItem('profile')));\n    dispatch(get_data_warga(user.result.community_id));\n  }, []);\n\n  console.log('data warga dari page ', dataWarga);\n  const rows = [\n    createData(\n      'Al Aqsa Krisnaya Abidin',\n      '082110106746',\n      'Blok H3/2',\n      'Pria',\n      '5 Juni 2022'\n    ),\n    createData(\n      'Pranarendra Dwikurnia',\n      '082110106746',\n      'Blok H3/3',\n      'Pria',\n      '5 Juni 2022'\n    ),\n    createData(\n      'Muhammad Helmi Azhar',\n      '082110106746',\n      'Blok H3/4',\n      'Pria',\n      '5 Juni 2022'\n    ),\n    createData(\n      'M Faturrahman',\n      '082110106746',\n      'Blok H3/5',\n      'Pria',\n      '5 Juni 2022'\n    ),\n    createData(\n      'Haykal Gibran',\n      '082110106746',\n      'Blok H3/6',\n      'Pria',\n      '5 Juni 2022'\n    )\n  ];\n\n  return (\n    <div>\n      <Typography variant=\"h4\">Warga</Typography>\n      <Typography\n        variant=\"h6\"\n        style={{ color: '#9D9D9D', marginBottom: '14px' }}\n      >\n        Warga yang terdaftar di Rukun Tetangga\n      </Typography>\n\n      {/* Tabel warga */}\n      {dataWarga.length === 0 ? (\n        <div>masih loading</div>\n      ) : (\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Nama Lengkap</TableCell>\n                <TableCell align=\"right\">Nomor Telepon</TableCell>\n                <TableCell align=\"right\">Alamat Rumah</TableCell>\n                <TableCell align=\"right\">Jenis Kelamin</TableCell>\n                <TableCell align=\"right\">Akun dibuat pada</TableCell>\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {dataWarga.data.map((warga) => (\n                <TableRow\n                  key={warga.id}\n                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                >\n                  <TableCell component=\"th\" scope=\"row\">\n                    <div\n                      style={{\n                        display: 'flex',\n                        alignContent: 'center',\n                        alignItems: 'center',\n                        gap: '5px'\n                      }}\n                    >\n                      <Avatar sx={{ width: 36, height: 36 }}>\n                        {warga.namaDepan.charAt(0)}\n                      </Avatar>\n                      <Typography variant=\"body2\">\n                        {warga.namaDepan} {warga.namaBelakang}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\">{warga.phone}</TableCell>\n                  <TableCell align=\"right\">{warga.alamat}</TableCell>\n                  <TableCell align=\"right\">{warga.jenisKelamin}</TableCell>\n                  <TableCell align=\"right\">\n                    {moment(warga.createdAt).format(\n                      'dddd, MMMM Do YYYY, h:mm:ss a'\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      )}\n    </div>\n  );\n};\n\nexport default DataWarga;\n"],"sourceRoot":""}